[![Build Status](https://api.travis-ci.org/mkishere/sshsyrup.svg)](http://travis-ci.org/mkishere/sshsyrup)
# Syrup
A simple SSH honeypot with abundant features

### Features
- SSH self-defined accounts and passwords, also allow any logins
- Records shell sessions and upload to [asciinema](https://asciinema.org)

### Installation
* Install Go
* Run the following command to get latest package and build it
```
go get -u -v github.com/mkishere/sshsyrup
cd ~/go/src/github.com/mkishere/sshsyrup
go build -ldflags "-s -w"
```
* Create config.json in the same directory as the binary
```json
{
    "server.addr": "0.0.0.0",
    "server.port": 22,
    "server.allowRandomUser": false,
    "server.userList": {
        "root": "*"
    }
}
```
* Generate SSH private key and renamed as id_rsa and put it in the same directory
* Start the server
```
    sshsyrup
```
### Config params
Parameter Name | Description
-------------- | -----------
server.addr | Server address the honeypot will listen to. Default _0.0.0.0_
server.port | Port number the honeypot will listen to. Default _22_
server.allowRandomUser | Allow user to login with any user names, default _false_
server.ident | Server identification string. Default _SSH-2.0-OpenSSH_6.8p1_
server.userList | Contains a Map that has user name as key and password as value. Use asterisk '*' as password will allow any password to login to that account
asciinema.logfileprefix | Prefix to write asciinema compatible terminal replay files. Default to _test_
asciinema.apiEndpoint | The service endpoint for the replay to upload. Default to _https://asciinema.org_
asciinema.apiKey | The token ID generated by the `asciinema` command. If empty the file will not be uploaded to asciinema.org


### TODO
- Virtual File System
- Minimal set of POSIX commands
- Mock SFTP/SCP
